[root@iTOP-4412]# nc 192.168.1.140 8000 > ts_drv.ko
[root@iTOP-4412]# insmod  ts_drv.ko 
[ 3374.920369] module_test1_init:34
[ 3374.922187] Unable to handle kernel NULL pointer dereference at virtual address 00000000
[ 3374.930432] pgd = d66cc000
[ 3374.933108] [00000000] *pgd=54906831, *pte=00000000, *ppte=00000000
[ 3374.939185] Internal error: Oops: 17 [#1] SMP
[ 3374.943511] Modules linked in: ts_drv(+)
[ 3374.947428] CPU: 0    Not tainted  (3.0.15 #77)
[ 3374.951962] PC is at strcmp+0x14/0x40
[ 3374.955590] LR is at kset_find_obj_hinted+0x70/0xd4
[ 3374.960456] pc : [<c022618c>]    lr : [<c0221210>]    psr: a0000153
[ 3374.960484] sp : d4913e90  ip : d4913ea0  fp : d4913e9c
[ 3374.971899] r10: 00000000  r9 : d4912000  r8 : c00605a8
[ 3374.977109] r7 : 00000000  r6 : 00000000  r5 : d6130ea0  r4 : d612fc80
[ 3374.983618] r3 : 00000000  r2 : 00000064  r1 : 00000000  r0 : d61599a0
[ 3374.990135] Flags: NzCv  IRQs on  FIQs off  Mode SVC_32  ISA ARM  Segment user
[ 3374.997338] Control: 10c5387d  Table: 566cc04a  DAC: 00000015
[ 3375.003056] 
[ 3375.003069] PC: 0xc022610c:
[ 3375.007306] 610c  1afffffa e89da800 e1a0c00d e92dd830 e24cb004 e3520000 11a03000 1a000001
[ 3375.015465] 612c  e89da830 e2833001 e5d3c000 e35c0000 1afffffb ea000005 e28cc001 e152000c
[ 3375.023623] 614c  1a000003 e3a02000 e5c32000 e89da830 e1a05003 e7d1400c e2833001 e3540000
[ 3375.031783] 616c  e7c5400c 1afffff3 e89da830 e1a0c00d e92dd800 e24cb004 e3a03000 e7d02003
[ 3375.039941] 618c  e7d1c003 e152000c 0a000002 23a00001 33e00000 e89da800 e2833001 e3520000
[ 3375.048101] 61ac  1afffff5 e1a00002 e89da800 e1a0c00d e92dd810 e24cb004 e3a03000 ea00000a
[ 3375.056260] 61cc  e7d0c003 e7d14003 e2422001 e15c0004 0a000002 23a00001 33e00000 e89da810
[ 3375.064419] 61ec  e35c0000 e2833001 0a000001 e3520000 1afffff2 e3a00000 e89da810 e1a0c00d
[ 3375.072582] 
[ 3375.072594] LR: 0xc0221190:
[ 3375.076832] 1190  e284001c eb000426 e1a00004 e89da818 e1a0c00d e92dd8f0 e24cb004 e1a04000
[ 3375.084991] 11b0  e2800008 e1a06002 e1a07001 eb0b7dc9 e3560000 0a00000b e5965004 e5943000
[ 3375.093150] 11d0  e1550003 0a000007 e5150004 e2455004 e3500000 0a000003 e1a01007 eb0013e1
[ 3375.101309] 11f0  e3500000 0a000007 e5945000 ea00000a e5953000 e2530000 0a000006 eb0013d9
[ 3375.109469] 1210  e3500000 1a000003 e1a00005 ebffffd6 e1a05000 ea000006 e5955004 e2455004
[ 3375.117628] 1230  e1a01007 e2853004 e1530004 1affffef e3a05000 f57ff05f e3a03000 e2844008
[ 3375.125787] 1250  e5843000 f57ff04f e320f004 e1560003 0a000001 e1a00006 ebffff5d e1a00005
[ 3375.133946] 1270  e89da8f0 e1a0c00d e92dd800 e24cb004 e3a02000 ebffffc5 e89da800 e1a0c00d
[ 3375.142109] 
[ 3375.142122] SP: 0xd4913e10:
[ 3375.146359] 3e10  c08d07e0 c00ba118 d4913e3c d4913e28 c00ba118 c05009ac ffffffff d4913e7c
[ 3375.154518] 3e30  00000000 00000000 d4913e9c d4913e48 c005fd6c c005a234 d61599a0 00000000
[ 3375.162677] 3e50  00000064 00000000 d612fc80 d6130ea0 00000000 00000000 c00605a8 d4912000
[ 3375.170837] 3e70  00000000 d4913e9c d4913ea0 d4913e90 c0221210 c022618c a0000153 ffffffff
[ 3375.178996] 3e90  d4913ebc d4913ea0 c0221210 c0226184 bf000138 bf002000 000e3358 0000fca8
[ 3375.187155] 3eb0  d4913ecc d4913ec0 c0221288 c02211ac d4913edc d4913ed0 c0268f28 c0221280
[ 3375.195313] 3ed0  d4913f04 d4913ee0 c0269060 c0268f10 c0871b78 bf000110 bf002000 000e3358
[ 3375.203473] 3ef0  0000fca8 c00605a8 d4913f1c d4913f08 c02e4f5c c0268fdc bf0001cc bf002000
[ 3375.211636] 
[ 3375.211648] IP: 0xd4913e20:
[ 3375.215886] 3e20  c00ba118 c05009ac ffffffff d4913e7c 00000000 00000000 d4913e9c d4913e48
[ 3375.224045] 3e40  c005fd6c c005a234 d61599a0 00000000 00000064 00000000 d612fc80 d6130ea0
[ 3375.232203] 3e60  00000000 00000000 c00605a8 d4912000 00000000 d4913e9c d4913ea0 d4913e90
[ 3375.240363] 3e80  c0221210 c022618c a0000153 ffffffff d4913ebc d4913ea0 c0221210 c0226184
[ 3375.248522] 3ea0  bf000138 bf002000 000e3358 0000fca8 d4913ecc d4913ec0 c0221288 c02211ac
[ 3375.256681] 3ec0  d4913edc d4913ed0 c0268f28 c0221280 d4913f04 d4913ee0 c0269060 c0268f10
[ 3375.264841] 3ee0  c0871b78 bf000110 bf002000 000e3358 0000fca8 c00605a8 d4913f1c d4913f08
[ 3375.272999] 3f00  c02e4f5c c0268fdc bf0001cc bf002000 d4913f2c d4913f20 bf002028 c02e4f18
[ 3375.281162] 
[ 3375.281174] FP: 0xd4913e1c:
[ 3375.285413] 3e1c  d4913e28 c00ba118 c05009ac ffffffff d4913e7c 00000000 00000000 d4913e9c
[ 3375.293571] 3e3c  d4913e48 c005fd6c c005a234 d61599a0 00000000 00000064 00000000 d612fc80
[ 3375.301730] 3e5c  d6130ea0 00000000 00000000 c00605a8 d4912000 00000000 d4913e9c d4913ea0
[ 3375.309890] 3e7c  d4913e90 c0221210 c022618c a0000153 ffffffff d4913ebc d4913ea0 c0221210
[ 3375.318049] 3e9c  c0226184 bf000138 bf002000 000e3358 0000fca8 d4913ecc d4913ec0 c0221288
[ 3375.326208] 3ebc  c02211ac d4913edc d4913ed0 c0268f28 c0221280 d4913f04 d4913ee0 c0269060
[ 3375.334367] 3edc  c0268f10 c0871b78 bf000110 bf002000 000e3358 0000fca8 c00605a8 d4913f1c
[ 3375.342526] 3efc  d4913f08 c02e4f5c c0268fdc bf0001cc bf002000 d4913f2c d4913f20 bf002028
[ 3375.350689] 
[ 3375.350701] R0: 0xd6159920:
[ 3375.354940] 9920  76697264 00737265 ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff
[ 3375.363098] 9940  d612fd80 ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff
[ 3375.371257] 9960  2d633269 70616461 00726574 ffffffff ffffffff ffffffff ffffffff ffffffff
[ 3375.379416] 9980  2d633269 70616461 00726574 ff00ff00 ff00ff00 ff00ff00 ff40ff04 ff00ff00
[ 3375.387575] 99a0  6d6d7564 ff000079 ff00ff00 ff00ff00 ff00ff00 ff00ff00 ff0aff00 ff04ff40
[ 3375.395735] 99c0  6d6d7564 ff000079 ff00ff00 ff00ff00 ff00ff00 ff00ff00 ff00ff00 ff00ff00
[ 3375.403894] 99e0  00000000 00000000 00000010 000186a0 00000064 c00773e0 00000000 00000000
[ 3375.412053] 9a00  00000001 00000000 00000010 000186a0 00000064 c0077424 ffffffff ffffffff
[ 3375.420216] 
[ 3375.420228] R4: 0xd612fc00:
[ 3375.424466] fc00  c007acdc 00000000 d612f180 00000000 000000e7 00000000 00000000 00000000
[ 3375.432625] fc20  00000001 d6169560 d60d9e80 00000000 00000000 00000000 00000000 00000000
[ 3375.440784] fc40  ee80c000 ee80e000 00000004 d612fdcd 00000000 00000000 d612fad8 d612fdd8
[ 3375.448943] fc60  c085eb7c 00000000 d61708e0 ffffffff ffffffff ffffffff ffffffff ffffffff
[ 3375.457102] fc80  d6130ea4 d615d364 00000001 d6159900 d612fc90 d612fc90 d608290c 00000000
[ 3375.465262] fca0  c0867bb0 d615bb40 0000000b 00000003 00000000 00000000 00000000 00000000
[ 3375.473421] fcc0  d612fe40 d612fb40 c0855570 c0857190 ee80c000 c084a0ec 00000000 00000000
[ 3375.481580] fce0  c007abbc 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 3375.489743] 
[ 3375.489755] R5: 0xd6130e20:
[ 3375.493993] 0e20  00000000 c0869114 d61a9400 00000000 00000000 00000000 00000000 00000000
[ 3375.502152] 0e40  00000000 d6130e44 d6130e44 c0265080 c026521c 00000000 00000000 00000000
[ 3375.510311] 0e60  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 3375.518470] 0e80  00000000 c0869180 d61a9600 00000000 00000000 00000000 00000000 00000000
[ 3375.526630] 0ea0  d61599a0 d617c544 d612fc80 d612fc8c d612fc80 c086b50c d615bc00 00000001
[ 3375.534788] 0ec0  00000007 00000000 d617cd48 d617cd48 00000000 00000000 d6082950 d617c57c
[ 3375.542948] 0ee0  d6082954 00000001 00000000 c0871bd4 00000000 00000000 00000000 00000000
[ 3375.551107] 0f00  00000070 6b6c6373 6d69665f 00000064 00000000 00000005 00000001 00000001
[ 3375.559270] 
[ 3375.559282] R8: 0xc0060528:
[ 3375.563520] 0528  e3570f5e e24fef7d 3798f107 e28d1008 e3a08000 e357080f e2270000 2a001213
[ 3375.571678] 0548  ea0154fe e1a02007 e28d1008 e3a00000 eb0006ff e28fe014 e1a07000 e28d1008
[ 3375.579837] 0568  e3570f5e 3891000f 3798f107 eaffffef e5ad0008 e1a02007 e1a0100d e3a00001
[ 3375.587997] 0588  eb0006f3 eaffff83 e320f000 e320f000 e320f000 e320f000 c084706c c0060c4c
[ 3375.596156] 05a8  c00a4a20 c00991d8 c0060bb0 c01393fc c01391b4 c0136e34 c013697c c00b5948
[ 3375.604315] 05c8  c0136e64 c0146340 c01464c8 c0060bc0 c0137918 c00b5948 c0146928 c01377e0
[ 3375.612474] 05e8  c00cb030 c00b5948 c00b5948 c0138230 c00a3dc4 c01569d0 c00b5948 c00caf50
[ 3375.620634] 0608  c00cac3c c00b5948 c00a1420 c00b5948 c00b5948 c00a54f8 c00b5948 c00b5948
[ 3375.628796] 
[ 3375.628808] R9: 0xd4911f80:
[ 3375.633047] 1f80  aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa
[ 3375.641205] 1fa0  aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa
[ 3375.649365] 1fc0  aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa
[ 3375.657524] 1fe0  aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa aaaaaaaa
[ 3375.665683] 2000  00000002 00000001 00000000 d6238fa0 c085cb9c 00000000 00000015 c12a4440
[ 3375.673842] 2020  d6238fa0 d4912000 d608cc80 00000000 d623913c d64ea820 d4913d94 d4913d50
[ 3375.682001] 2040  c04fea78 00000000 00000000 00000000 00000000 00000000 01000000 00000000
[ 3375.690161] 2060  401024c0 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 3375.698333] Process insmod (pid: 31003, stack limit = 0xd49122f0)
[ 3375.704406] Stack: (0xd4913e90 to 0xd4914000)
[ 3375.708758] 3e80:                                     d4913ebc d4913ea0 c0221210 c0226184
[ 3375.716925] 3ea0: bf000138 bf002000 000e3358 0000fca8 d4913ecc d4913ec0 c0221288 c02211ac
[ 3375.725083] 3ec0: d4913edc d4913ed0 c0268f28 c0221280 d4913f04 d4913ee0 c0269060 c0268f10
[ 3375.733242] 3ee0: c0871b78 bf000110 bf002000 000e3358 0000fca8 c00605a8 d4913f1c d4913f08
[ 3375.741401] 3f00: c02e4f5c c0268fdc bf0001cc bf002000 d4913f2c d4913f20 bf002028 c02e4f18
[ 3375.749558] 3f20: d4913f7c d4913f30 c005a720 bf00200c c00ba768 c00b99ac 00000000 00000000
[ 3375.757717] 3f40: 00000000 bf0001cc 00000000 000e3358 0000fca8 bf0001cc 00000000 000e3358
[ 3375.765877] 3f60: 0000fca8 c00605a8 d4912000 00000000 d4913fa4 d4913f80 c00cf6c4 c005a67c
[ 3375.774036] 3f80: 00000000 000ef040 bea68b40 bea68e74 00000069 00000080 00000000 d4913fa8
[ 3375.782196] 3fa0: c0060340 c00cf64c bea68b40 bea68e74 000ef040 0000fca8 000e3358 00000000
[ 3375.790354] 3fc0: bea68b40 bea68e74 00000069 00000080 bea68e78 00000000 bea68e78 00000000
[ 3375.798515] 3fe0: 00000001 bea68b2c 00021fe8 402e8154 60000050 000ef040 aaaaaaaa aaaaaaaa
[ 3375.806647] Backtrace: 
[ 3375.809121] [<c0226178>] (strcmp+0x0/0x40) from [<c0221210>] (kset_find_obj_hinted+0x70/0xd4)
[ 3375.817621] [<c02211a0>] (kset_find_obj_hinted+0x0/0xd4) from [<c0221288>] (kset_find_obj+0x)
[ 3375.826703]  r7:0000fca8 r6:000e3358 r5:bf002000 r4:bf000138
[ 3375.832384] [<c0221274>] (kset_find_obj+0x0/0x18) from [<c0268f28>] (driver_find+0x24/0x30)
[ 3375.840711] [<c0268f04>] (driver_find+0x0/0x30) from [<c0269060>] (driver_register+0x90/0x14)
[ 3375.849319] [<c0268fd0>] (driver_register+0x0/0x148) from [<c02e4f5c>] (i2c_register_driver+)
[ 3375.858559]  r8:c00605a8 r7:0000fca8 r6:000e3358 r5:bf002000 r4:bf000110
[ 3375.865067] r3:c0871b78
[ 3375.867725] [<c02e4f0c>] (i2c_register_driver+0x0/0xbc) from [<bf002028>] (module_test1_init)
[ 3375.877828]  r5:bf002000 r4:bf0001cc
[ 3375.881442] [<bf002000>] (module_test1_init+0x0/0x3c [ts_drv]) from [<c005a720>] (do_one_ini)
[ 3375.891321] [<c005a670>] (do_one_initcall+0x0/0x180) from [<c00cf6c4>] (sys_init_module+0x84)
[ 3375.900348] [<c00cf640>] (sys_init_module+0x0/0x1a8) from [<c0060340>] (ret_fast_syscall+0x0)
[ 3375.909249]  r7:00000080 r6:00000069 r5:bea68e74 r4:bea68b40
[ 3375.914910] Code: e92dd800 e24cb004 e3a03000 e7d02003 (e7d1c003) 
[ 3375.922465] ---[ end trace e56461e5a5af752e ]---
Segmentation fault
[root@iTOP-4412]# lsmod 
ts_drv 2589 1 - Loading 0xbf000000
[root@iTOP-4412]# rmmod ts_drv
rmmod: remove 'ts_drv': Device or resource busy

